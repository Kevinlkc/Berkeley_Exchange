"0","for (p in 1:ncol(data)){
  browser()
  for (j in 2:p+1){
    for (l in 1:j-1){
      Gamma[l,j] = t(z[,l]) %*% data[,j]
    }
    z[,j] = data[,j]
    for (k in 1:j-1){
      z[,j] = z[,j] - Gamma[k,j] * z[,k]
    }
  }
  Beta[p] = t(z[,p]) %*% data[,'sales'] / (t(z[,p]) %*% z[,p])
}
"
"1","Called from: "
"1","top level 
"
"0","source('~/.active-rstudio-document', echo=TRUE)"
"1","
"
"1","> ## ----setup, include=FALSE, message=FALSE, warning= FALSE-----------------
> library(tidyverse)"
"1","
"
"1","
"
"1","> library(tidyr)"
"1","
"
"1","
"
"1","> ## ------------------------------------------------------------------------
> data <- read.csv(""Advertising.csv"", row.names = ""X"")"
"1","
"
"1","
"
"1","> z <- matrix(nrow = nrow(data), ncol = ncol(data))"
"1","
"
"1","
"
"1","> Gamma <- matrix(nrow = nrow(data), ncol = ncol(data))"
"1","
"
"1","
"
"1","> Beta <- vector(length = ncol(data))"
"1","
"
"1","
"
"1","> ## ------------------------------------------------------------------------
> # Step 1 initialize X[,1] and Z[,1]
> temp <- rep(1,nrow(data))"
"1","
"
"1","
"
"1","> data <- data %>%
+   add_column(temp, .before = T)"
"1","
"
"1","
"
"1","> z[,1] = temp"
"1","
"
"1","
"
"1","> ## ------------------------------------------------------------------------
> # Step 2 & 3
> ncol(data)"
"1","
"
"1","[1]"
"1"," 5"
"1","
"
"1","
"
"1","> for (p in 1:ncol(data)){
+   for (j in 2:p+1){
+     for (l in 1:j-1){
+       Gamma[l,j] = t(z[,l]) %*% data[,j]
+     }
+     z[,j] = data[,j]
+  "
"1"," .... [TRUNCATED] "
"1","
"
"2","Error in z[, j] <- z[, j] - Gamma[k, j] * z[, k] : 更换参数长度为零
"
